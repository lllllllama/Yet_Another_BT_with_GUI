# Yet-Another-BT - BitTorrentå®¢æˆ·ç«¯

ä¸€ä¸ªä½¿ç”¨Cè¯­è¨€å®ç°çš„BitTorrentä¸‹è½½å®¢æˆ·ç«¯ï¼Œç°åœ¨æä¾›**ä¸¤ä¸ªç‰ˆæœ¬**çš„ç”¨æˆ·ç•Œé¢ã€‚

## ğŸ¨ ä¸¤ä¸ªç‰ˆæœ¬

### 1. ğŸ–¥ï¸ GTKå›¾å½¢ç•Œé¢ç‰ˆæœ¬ (æ¨è)

çœŸæ­£çš„**å›¾å½¢åŒ–çª—å£ç•Œé¢**ï¼Œé€‚åˆæ¡Œé¢ç¯å¢ƒä½¿ç”¨ã€‚

![GTKç•Œé¢](https://img.shields.io/badge/GUI-GTK%2B3-blue)

**ç‰¹æ€§**ï¼š
- âœ… å›¾å½¢åŒ–çª—å£ï¼Œéç»ˆç«¯æ¨¡æ‹Ÿ
- âœ… å®æ—¶è¿›åº¦æ¡å’Œç»Ÿè®¡é¢æ¿
- âœ… æ—¥å¿—çª—å£å®æ—¶æ˜¾ç¤º
- âœ… å¤šçº¿ç¨‹æ¶æ„ï¼Œå“åº”æµç•…

**å¿«é€Ÿå¼€å§‹**ï¼š
```bash
# å®‰è£…ä¾èµ–
sudo apt install libgtk-3-dev libssl-dev

# ç¼–è¯‘
bash build_gtk.sh

# è¿è¡Œ
./ttorrent-gtk your-file.torrent
```

ğŸ“– [å®Œæ•´GTKä½¿ç”¨æ–‡æ¡£](GTK_GUI_USAGE.md)

---

### 2. ğŸ“Ÿ ncursesç»ˆç«¯ç•Œé¢ç‰ˆæœ¬

åŸºäºncursesçš„**ç»ˆç«¯å­—ç¬¦ç•Œé¢**ï¼Œé€‚åˆSSHè¿œç¨‹æˆ–æœåŠ¡å™¨ç¯å¢ƒã€‚

![ncursesç•Œé¢](https://img.shields.io/badge/GUI-ncurses-green)

**ç‰¹æ€§**ï¼š
- âœ… ç»ˆç«¯å­—ç¬¦ç•Œé¢
- âœ… è½»é‡çº§ï¼Œä½èµ„æºå ç”¨
- âœ… SSHè¿œç¨‹å¯ç”¨

**å¿«é€Ÿå¼€å§‹**ï¼š
```bash
# å®‰è£…ä¾èµ–
sudo apt install libncurses5-dev libssl-dev

# ç¼–è¯‘
make

# è¿è¡Œ
./ttorrent your-file.torrent
```

ğŸ“– [ç»ˆç«¯ç‰ˆä½¿ç”¨æ–‡æ¡£](GUI_USAGE.md)

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

- âœ… è§£æ `.torrent` ç§å­æ–‡ä»¶
- âœ… ä¸ Tracker æœåŠ¡å™¨é€šä¿¡
- âœ… ä¸å…¶ä»– Peer äº¤æ¢æ•°æ®
- âœ… æ”¯æŒå•æ–‡ä»¶å’Œå¤šæ–‡ä»¶ç§å­
- âœ… **æ–­ç‚¹ç»­ä¼ **åŠŸèƒ½
- âœ… SHA1 æ•°æ®å®Œæ•´æ€§æ ¡éªŒ
- âœ… Chokingç®—æ³•ä¼˜åŒ–ä¼ è¾“
- âœ… ç¨€æœ‰ç‰‡æ®µä¼˜å…ˆä¸‹è½½

---

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æ“ä½œç³»ç»Ÿ
- âœ… Linux (Ubuntu/Debian/CentOS/Fedora)
- âœ… macOS
- âŒ Windows (ä½¿ç”¨WSL2)

### GTKç‰ˆæœ¬ä¾èµ–
```bash
# Ubuntu/Debian
sudo apt install build-essential libgtk-3-dev libssl-dev pkg-config

# Fedora/RHEL
sudo dnf install gcc gtk3-devel openssl-devel pkg-config

# macOS
brew install gtk+3 openssl pkg-config
```

### ncursesç‰ˆæœ¬ä¾èµ–
```bash
# Ubuntu/Debian
sudo apt install build-essential libncurses5-dev libssl-dev

# Fedora/RHEL
sudo dnf install gcc ncurses-devel openssl-devel
```

---

##âš¡ å¿«é€Ÿç¼–è¯‘

### æ–¹æ¡ˆ1: å›¾å½¢ç•Œé¢ç‰ˆæœ¬(æ¨è)
```bash
bash build_gtk.sh
./ttorrent-gtk test.torrent
```

### æ–¹æ¡ˆ2: ç»ˆç«¯ç•Œé¢ç‰ˆæœ¬
```bash
make
./ttorrent test.torrent
```

### æ–¹æ¡ˆ3: åŒæ—¶ç¼–è¯‘ä¸¤ä¸ªç‰ˆæœ¬
```bash
make -f Makefile.new all
# ç”Ÿæˆ: ttorrent-gtk å’Œ ttorrent
```

---

## ğŸ“– å®Œæ•´æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [GTK_GUI_USAGE.md](GTK_GUI_USAGE.md) | GTKå›¾å½¢ç•Œé¢å®Œæ•´ä½¿ç”¨æ‰‹å†Œ â­ |
| [USAGE.md](USAGE.md) | é€šç”¨ä½¿ç”¨æ–‡æ¡£å’Œå‘½ä»¤å‚è€ƒ |
| [GUI_USAGE.md](GUI_USAGE.md) | ncursesç»ˆç«¯ç•Œé¢ä½¿ç”¨è¯´æ˜ |
| [é¡¹ç›®è¯¦ç»†åˆ†æ.md](é¡¹ç›®è¯¦ç»†åˆ†æ.md) | æŠ€æœ¯æ¶æ„å’Œå®ç°åˆ†æ |
| [log.md](log.md) | å¼€å‘æ—¥å¿—å’Œä¼˜åŒ–è®°å½• |
| [æ–‡ä»¶æ¸…å•.md](æ–‡ä»¶æ¸…å•.md) | æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨å’Œè¯´æ˜ |

---

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### GTKå›¾å½¢ç•Œé¢ç‰ˆæœ¬

```bash
# ä¸‹è½½Ubuntu ISO
wget https://releases.ubuntu.com/22.04/ubuntu-22.04-desktop-amd64.iso.torrent
./ttorrent-gtk ubuntu-22.04-desktop-amd64.iso.torrent
```

**ç•Œé¢é¢„è§ˆ**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    BitTorrent ä¸‹è½½è¿›åº¦                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¿›åº¦: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘] 65.4%             â”‚
â”‚ Pieces: 654 / 1000                      â”‚
â”‚                                         â”‚
â”‚ ä¸‹è½½é€Ÿåº¦: 2.34 MB/s                      â”‚
â”‚ ä¸Šä¼ é€Ÿåº¦: 512 KB/s                       â”‚
â”‚ å·²ä¸‹è½½: 654 MB                           â”‚
â”‚ è¿æ¥çš„Peers: 15                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸‹è½½æ—¥å¿—:                                â”‚
â”‚ [18:30:15] GUIå·²åˆå§‹åŒ–                  â”‚
â”‚ [18:30:16] ç§å­æ–‡ä»¶è§£æå®Œæˆ              â”‚
â”‚ [18:30:18] ç¼“å†²åŒºåˆ›å»ºå®Œæˆ (16MB)         â”‚
â”‚ ...                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–­ç‚¹ç»­ä¼ 

```bash
# ç¬¬ä¸€æ¬¡ä¸‹è½½
./ttorrent-gtk large-file.torrent
# [ä¸‹è½½åˆ°50%æ—¶å…³é—­çª—å£]

# é‡æ–°å¯åŠ¨ï¼Œè‡ªåŠ¨æ¢å¤
./ttorrent-gtk large-file.torrent
# ä»50%ç»§ç»­ä¸‹è½½
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ¨¡å—åŒ–è®¾è®¡ (12ä¸ªæ ¸å¿ƒæ¨¡å—)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Application Layer               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚main.c    â”‚      â”‚main_gtk.câ”‚        â”‚
â”‚  â”‚(ncurses) â”‚      â”‚(GTK GUI) â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Protocol Layer                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚    torrent.c(ä¸»æ§åˆ¶å¾ªç¯)     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Communication Layer                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚tracker.câ”‚â”‚peer.c  â”‚â”‚message.câ”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Data Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚data.c   â”‚â”‚bitfieldâ”‚â”‚policy.câ”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Utility Layer                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚parse_meta..â”‚â”‚bt_hash â”‚ â”‚log.c â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¤šçº¿ç¨‹æ¶æ„ (GTKç‰ˆæœ¬)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GUI Thread â”‚         â”‚  ä¸‹è½½Thread  â”‚
â”‚  (GTKä¸»å¾ªç¯) â”‚         â”‚ (BTåè®®å¤„ç†) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ çª—å£æ¸²æŸ“   â”‚â—„â”€â”€é”â”€â”€â–ºâ”‚ â€¢ Tracker   â”‚
â”‚ â€¢ äº‹ä»¶å¤„ç†   â”‚         â”‚ â€¢ Peeré€šä¿¡   â”‚
â”‚ â€¢ å®šæ—¶æ›´æ–°   â”‚         â”‚ â€¢ æ–‡ä»¶I/O   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®ç®—æ³•

- **Chokingç®—æ³•**ï¼šæ¯10ç§’é€‰æ‹©æœ€å¿«4ä¸ªpeer
- **Optimistic Unchoking**ï¼šæ¯30ç§’éšæœºç»™æ–°peeræœºä¼š
- **ç¨€æœ‰ä¼˜å…ˆ**ï¼šä¼˜å…ˆä¸‹è½½æœ€ç¨€æœ‰çš„piece
- **16MBæ™ºèƒ½ç¼“å­˜**ï¼šæ‰¹é‡éªŒè¯å’Œå†™å…¥

---

## ğŸ“Š æ€§èƒ½æ•°æ®

| æŒ‡æ ‡ | GTKç‰ˆ | ncursesç‰ˆ |
|------|-------|-----------|
| å¯æ‰§è¡Œæ–‡ä»¶å¤§å° | ~160KB | ~158KB |
| è¿è¡Œæ—¶å†…å­˜ | ~5MB | ~1MB |
| GUI CPUå ç”¨ | ~2% | ~0.5% |
| ä¸‹è½½æ€§èƒ½ | ç›¸åŒ | ç›¸åŒ |
| ç”¨æˆ·ä½“éªŒ | â­â­â­â­â­ | â­â­â­â­ |

---

## ğŸ› é—®é¢˜æ’æŸ¥

### GTKç‰ˆæœ¬æ— æ³•è¿è¡Œï¼Ÿ

1. **æ£€æŸ¥å›¾å½¢ç¯å¢ƒ**ï¼š
   ```bash
   echo $DISPLAY
   # åº”è¯¥è¾“å‡ºç±»ä¼¼: :0 æˆ– :1
   ```

2. **æ£€æŸ¥GTKå®‰è£…**ï¼š
   ```bash
   pkg-config --modversion gtk+-3.0
   ```

3. **ä½¿ç”¨ç»ˆç«¯ç‰ˆæœ¬**ï¼š
   ```bash
   ./ttorrent your-file.torrent
   ```

### ç¼–è¯‘é”™è¯¯ï¼Ÿ

æŸ¥çœ‹ [GTK_GUI_USAGE.md](GTK_GUI_USAGE.md) çš„å¸¸è§é—®é¢˜éƒ¨åˆ†ã€‚

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [BitTorrentåè®®è§„èŒƒ (BEP 003)](https://www.bittorrent.org/beps/bep_0003.html)
- [GTK+3 æ–‡æ¡£](https://docs.gtk.org/gtk3/)
- åŸå§‹ä»£ç æ¥æºï¼šã€ŠLinux Cç¼–ç¨‹å®æˆ˜ã€‹

---

## ğŸ“ æ›´æ–°æ—¥å¿—

**v2.0 (2025-12-24)**
- âœ¨ æ–°å¢GTK+3å›¾å½¢ç•Œé¢ç‰ˆæœ¬
- âœ¨ å®ç°å¤šçº¿ç¨‹æ¶æ„
- âœ¨ æ·»åŠ å®æ—¶æ—¥å¿—çª—å£
- ğŸ”§ ä¿ç•™ncursesç»ˆç«¯ç‰ˆæœ¬

**v1.0 (2025-12-15)**
- âœ… åŸºç¡€BitTorrentåŠŸèƒ½
- âœ… ncursesç»ˆç«¯ç•Œé¢

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤é—®é¢˜å’Œæ”¹è¿›å»ºè®®ï¼

---

## âš–ï¸ License

åŸºäºã€ŠLinux Cç¼–ç¨‹å®æˆ˜ã€‹çš„ä»£ç é‡æ„å’Œæ”¹è¿›ã€‚

---

**æœ€åæ›´æ–°**: 2025-12-24  
**å¼€å‘**: Gemini AI Assistant
